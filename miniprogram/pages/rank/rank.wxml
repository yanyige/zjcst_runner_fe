<view class="rank-page">
  <view class="section filters">
    <picker mode="selector" range="{{scopeOptions}}" value="{{scopeOptions.indexOf(currentScope)}}" bindchange="handleScopeChange">
      <view class="picker-item">èŒƒå›´ï¼š{{scopeLabels[currentScope]}}</view>
    </picker>
    <picker mode="selector" range="{{periodOptions}}" value="{{periodOptions.indexOf(currentPeriod)}}" bindchange="handlePeriodChange">
      <view class="picker-item">å‘¨æœŸï¼š{{periodLabels[currentPeriod]}}</view>
    </picker>
  </view>

  <view class="section">
    <view class="section-title">{{periodLabels[currentPeriod]}}{{scopeLabels[currentScope]}}æ’è¡Œæ¦œ</view>
    <view wx:if="{{loading}}" class="loading">åŠ è½½ä¸­...</view>
    <view wx:if="{{!rankings.length && !loading}}" class="empty">æš‚æ— æ’è¡Œæ•°æ®</view>
    <block wx:for="{{rankings}}" wx:key="id">
      <view class="rank-item">
        <view class="rank-index">{{index + 1}}</view>
        <view class="rank-info">
          <view class="name">{{item.name || item.label}}</view>
          <view class="text-muted">ç´¯è®¡é‡Œç¨‹ï¼š{{item.distance || item.totalDistance}} km</view>
        </view>
        <view class="medal" wx:if="{{index < 3}}">ğŸ…</view>
      </view>
    </block>
  </view>
</view>
